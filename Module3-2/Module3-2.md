*  **목표는 3-1이 뽑아낸 `Clause` 리스트(JSON)를 받아, (1) 문서 내 정의어(“이하 ‘○○’라 한다”)를 바인딩해 용어를 정규화하고, (2) 각 조항을 임대차 온톨로지 카테고리로 일관되게 매핑하는 것이다. 구현은 Python 3.11 표준 라이브러리만 사용하고 결정론적으로 동작해야 한다. 패키지명은 `module_3_2`로 하고, 핵심 모듈 `ontology_mapper.py`, 데이터 스키마 `schemas.py`, 실행용 `cli.py`, 온톨로지/동의어 리소스 `data/ontology_lease.json`, `data/synonyms_ko.json`, 테스트 `tests/test_mapper.py`, 샘플 입력 `samples/clauses_from_3_1.json`을 포함한다. 입력 인터페이스는 3-1의 JSON 또는 `List[Clause]`이며, 출력은 각 조항에 `category`, `subcategory`, `canonical_terms`, `def_bindings`, `normalized_text`를 추가한 `List[NormClause]`(또는 동등 JSON)이다. 정의어 바인딩 로직은 다음 원칙을 따른다: 정의 문장을 정규식으로 파싱하여 `base_term → alias` 또는 `alias → base_term`을 추출하고(예: `…(이하 ‘회사’라 한다)`·`‘임대인’이라 한다`), 문서 전역 테이블을 만든 뒤 각 조항의 텍스트를 정규화 뷰로 생성한다. 바인딩 시 따옴표 변형(‘ ’ “ ” " ')과 조사가 섞인 형태(“을/를/이라/라 한다”)를 모두 허용하며, 다중 정의 충돌 시 가장 근접 조항(헤더→동일 항→상위 조) 우선, 나머지는 보조 별칭으로 보관한다. 동의어 정규화는 `synonyms_ko.json`에 용어군을 정의하여(예: 임대료/차임/월세 → `차임`; 보증금/전세보증금 → `보증금`; 임대인/갑/회사 → `임대인`; 임차인/을/사용자 → `임차인`) 공백·하이픈·한자/한글 표기, 숫자+단위(㎡/평), 날짜 표기 변형을 정규화한다. 온톨로지 카테고리는 임대차에 특화된 상위/하위 체계를 JSON으로 제공한다: 예컨대 상위 `금전(MONEY)` 아래 `보증금(DEPOSIT)`, `차임(RENT)`, `연체/증감(LATE_FEE/ADJUSTMENT)`; 상위 `기간(TERM)` 아래 `임대기간(PERIOD)`, `갱신(RENEWAL)`, `해지/해제(TERMINATION)`; 상위 `사용/관리(USE_MAINT)` 아래 `원상복구(RESTORE)`, `수선/하자(REPAIR)`, `관리비(MGMT_FEE)`, `공과금(UTILITIES)`; 상위 `권리/제한(RIGHTS)` 아래 `전대/양도(SUBLEASE_ASSIGN)`; 상위 `목적물(PREMISES)` 아래 `주소/면적/목록(PREMISES_DESC/INVENTORY)`; 상위 `준거법/관할(LAW)` 등으로 구성하고, 각 하위 항목에 제목 키워드와 본문 키워드(동의어군)를 매핑한다. 카테고리 매핑 알고리즘은 (a) 헤더 제목 매핑(가중치 높음), (b) 정의어/동의어로 정규화된 본문 키워드 매칭(가중치 중간), (c) 3-1이 부여한 힌트 태그(예: `lease_hint_*`) 보정(가중치 보너스) 순으로 점수화해서 1차/2차 카테고리를 결정한다. 점수 동률 시 더 좁은 하위 카테고리를 우선하고, 어떤 규칙에도 걸리지 않으면 `uncategorized`로 표기하되 `candidates` 배열에 상위 3개 후보와 근거 키워드를 남긴다. 출력 스키마는 `NormClause{id, index_path, text, normalized_text, title, tags, category, subcategory, canonical_terms[], def_bindings[{alias, base, source_clause_id}] , evidence_keywords[]}` 형태로 고정한다. CLI는 `python -m module_3_2.cli --in clauses.json --out norm_clauses.json` 형식을 지원하고, 표준입력/출력 파이프도 허용한다. 테스트/수락 기준은 (1) 샘플 임대차 문서에서 “보증금/차임/기간/해지/원상복구/전대/관리비/공과금/부속서(비품목록)” 조항들이 기대 카테고리로 매핑될 것, (2) “갑(이하 ‘임대인’이라 한다)”, “을(이하 ‘임차인’이라 한다)”가 문서 전역에서 올바르게 바인딩되어 본문 내 ‘갑/을’ 표기가 `임대인/임차인`으로 정규화될 것, (3) 헤더만으로 애매한 조항도 본문 키워드와 동의어 정규화로 보정될 것, (4) 처리 시간 200KB/1.5초 이내, 외부 의존성 0, `pytest` 3케이스 통과다. 코딩 가이드로 함수 시그니처는 `bind_definitions(clauses)->DefinitionTable`, `normalize_terms(text, def_table, synonyms)->(normalized_text, canonical_terms)`, `map_category(clause, normalized_text, ontology)->(category, subcategory, evidence_keywords)`를 권장하고, 모듈 최상위 `process(clauses, ontology, synonyms)->List[NormClause]`를 제공한다. 데이터 설계에서 온톨로지/동의어 JSON은 운영 중 교체 가능해야 하므로 로더는 버전(`semver`)과 무결성 체크섬을 검증하고, 충돌(중복 alias나 순환 정의)은 예외로 승격해 CI에서 실패시키도록 한다. 마지막으로 Codex에는 “3-1의 JSON을 입력받아 위 설계대로 정의어를 바인딩·정규화하고 임대차 온톨로지로 카테고리를 매핑하는 `module_3_2` 패키지를 생성하라. 표준 라이브러리만 사용하고, 결정론적 동작·테스트·CLI를 포함하라.”고 지시하면 된다.**

