* **목적은 한국어 임대차 계약 원문을 조/항/목 단위로 안정 분할하고, 임대차 문서에서 자주 등장하는 요소를 인식해 헤더·정의·교차참조·부속서에 더해 임대차 도메인 힌트 태그(예: `lease_hint_deposit`, `lease_hint_rent`, `lease_hint_period`, `lease_hint_repair`, `lease_hint_renewal`, `lease_hint_termination`, `lease_hint_sublease`, `lease_hint_utilities`, `lease_hint_mgmtfee`, `lease_hint_restore`, `lease_hint_special`)를 부여하는 것이다. 구현은 Python 3.11 표준 라이브러리만 사용하고, 정규식+상태기계 기반의 결정론적 동작을 지향한다. 외부 NLP 패키지는 금지하며, 타입힌트/`@dataclass`/문서화를 준수하고 간단한 CLI를 포함한다. 200KB 텍스트(약 100쪽) 기준 처리시간 1.5초 이내, 메모리 200MB 이내를 성능 가드레일로 건다. 패키지 구조는 `module_3_1/` 아래 `clause_segmenter.py`(핵심), `schemas.py`(데이터 모델/JSON 스키마), `cli.py`(파일·STDIN→JSON), `tests/test_segmenter.py`(pytest), `samples/sample_lease_contract.txt`(샘플), `pyproject.toml`(최소 설정)로 구성한다. 공개 인터페이스는 원문 문자열을 입력해 `Clause` 목록 혹은 JSON을 반환하며, 각 `Clause`는 결정론적 `id`(예: `A3-1-가`), `level`(0=조, 1=항, 2=목), `index_path`, 원문 오프셋 `start/end`, `text`, `tags`(기본 태그+임대차 힌트), 필요 시 헤더 `title`을 가진다. 인식 규칙은 임대차 계약의 관습을 반영한다: 조(헤더)는 “제N조 (제목)” 패턴으로 잡고, 항은 ①–⑳ 또는 (1)/1)/1./1- 등 숫자 머리표, 목은 가·나·다 뒤 점/괄호 패턴을 사용한다. 임대차 전용 힌트 태그는 조항 제목과 본문 키워드 결합으로 부여한다. 예컨대 “보증금/임대보증금/보증금 반환/전세보증금”은 `lease_hint_deposit`, “차임/월세/임대료/연체료/인상률”은 `lease_hint_rent`, “임대기간/개시일/만료일/계약갱신/계약갱신요구권”은 `lease_hint_period`와 `lease_hint_renewal`, “원상복구/수선의무/수리/하자보수/시설물”은 `lease_hint_restore` 또는 `lease_hint_repair`, “전대/양도/전대차/재임대”는 `lease_hint_sublease`, “관리비/공용전기/청소/경비/승강기유지”는 `lease_hint_mgmtfee`, “전기/수도/가스/도시가스/난방/통신요금”은 `lease_hint_utilities`, “해제/해지/손해배상/위약금/통지기간/최고”는 `lease_hint_termination`으로 태깅한다. 부속서·별첨·부록·시설물 인수인계서·비품목록 등은 `annex_ref`와 함께 `lease_hint_inventory`를 추가한다. 교차참조는 “제N조”, 법령 언급(민법, 주택임대차보호법, 상가건물 임대차보호법)을 `cross_ref`로 표기한다. 알고리즘은 줄 단위 상태기계로 동작한다: 조를 만나면 직전 본문을 플러시하고 헤더를 즉시 방출하며, 항 패턴을 만나면 이전 항을 플러시하고 새 항 버퍼를 연다. 목은 필요 시 항을 플러시한 뒤 즉시 방출한다. 기타 라인은 현재 버퍼에 축적하고, 파일 끝에서 남은 버퍼를 플러시한다. 원문 오프셋은 `text.find(block, base_cursor)`로 추적해 하위 모듈이 같은 스팬을 재현하도록 한다. 예외 처리는 임대차 문서 특성을 따른다: 헤더 없이 시작하는 서문/표지는 `PREFACE`로 수용하고, 번호 누락 시 첫 항으로 묶는다. “갑/을/병” 당사자 호칭을 감지해 해당 조항에 `party_alias` 메타(예: `GAP`, `EUL`)를 힌트로 기록하되, 정규 온톨로지 매핑은 3-2에서 수행하도록 힌트만 남긴다. 지급일 표기(“매월 25일”, “매월 말일”), 계좌 정보(은행/예금주/계좌번호), 면적·단위(㎡, 평), 목적물 표시(주소, 층/호수, 지번, 건물명)는 분절 대상 자체는 아니지만 해당 조항에 `lease_hint_payment`, `lease_hint_premises` 같은 힌트를 추가한다. 테스트는 세 가지를 기본으로 한다: 1\) 헤더/항/목 세분화와 오프셋 일치, 2\) 도메인 힌트 태그 자동부여(보증금·차임·기간·원상복구·전대 등), 3\) 서문 처리·번호 누락·법령 교차참조 처리. 샘플 파일은 아래와 같은 구조를 포함한다: “제1조 (목적물) … 제2조 (임대기간) … 제3조 (보증금 및 차임) … ① 차임은 매월 … 가. 관리비 항목 … 나. 공과금 … 제8조 (원상복구) … 제10조 (계약해지) … 제12조 (전대 및 양도) … 부속서 1(비품목록) …” 등. 수락 기준은 샘플 입력으로 실행 시 위 힌트 태그와 기본 태그가 기대대로 부여되고, 모든 `start/end`가 원문과 일치하며, 처리시간·메모리 가드레일을 만족하고, CLI 사용법이 `cli.py`에 문서화되어 있는 것이다. Codex에는 다음 한 문장으로 지시한다: “당신은 한국어 임대차 계약 처리에 숙련된 시니어 파이썬 엔지니어다. 위 기획안을 충실히 구현하여 `module_3_1` 패키지를 생성하라. 표준 라이브러리만 사용하고, 조/항/목 세분화와 헤더·정의·교차참조·부속서 및 임대차 전용 힌트 태그를 부여하라. `python -m module_3_1.cli samples/sample_lease_contract.txt` 실행 시 JSON이 출력되고 `pytest`가 통과해야 한다. 외부 패키지는 금지이며, 성능·메모리 한계를 준수하라.”**

